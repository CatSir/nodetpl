<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>NodeTpl - A powerful, efficient, easy to use, fun children's JavaScript template engine</title>
<link rel="stylesheet" href="/static/css/normalize.css">
<link rel="stylesheet" href="/static/css/style.css">
<link rel="stylesheet" href="/static/css/vdialog.css">
<link rel="stylesheet" href="/static/css/highlight/prism.css">
<script type="text/javascript" src="/static/js/highlight/prism.js"></script>
<script type="text/javascript" src="/static/js/require.js"></script>
<script type="text/javascript" src="/static/js/require-config.js"></script>
</head>
<body id="multi">
<header class="en">
  <div class="wrap">
    <div class="logo">
      <a href="/"><i class="iconfont">&#xe605;</i>NodeTpl</a>
      <span>A powerful, efficient, easy to use, funny JavaScript template engine</span>
    </div>
    <nav>
      <ul class="clearfix">
        <li><a href="./">Home</a></li>
        <li><a href="./start.html">Start</a></li>
        <li><a href="./grammar.html">Grammar</a></li>
        <li><a href="./api.html">API</a></li>
        <li class="active"><a href="./multi.html">Multi-template</a></li>
        <li><a href="./compile.html">Pre-compile</a></li>
        <li><a href="./module.html">Modular</a></li>
        <li><a href="./node.html">Node.js</a></li>
        <li><a href="./changes.html">Changes</a></li>
      </ul>
    </nav>
  </div>
</header>
<div class="fixed-tools">
  <div class="wrap"><a href="./demo/demo_0.html" target="_blank"><i class="iconfont">&#xe605;</i></a></div>
</div>
<section class="wrap">
  <h2>Multiple Templates</h2>
  <p>Seems learned before, we've been able to do most work we want, but if a template that contains a lot of business scenarios, the amount of template code will appear huge and bloated, in order to solve this problem, <code>nodetpl</code> has a very clever way , we introduced the concept of multiple templates.</p>
  <p><code>nodetpl</code> is defined as multi-template scenario: If a template that contains a lot of business logic and business logic are relatively independent of each piece, then we can put the entire template is divided into multiple blocks, each block represents a business Scenes;</p>
  <ul>
    <li>Multi-template includes a master template (<code>main</code>) and a plurality of sub-template, the master template is the entrance to the entire template</li>
    <li>Use <code>&lt;template name=""&gt;&lt;/template&gt;</code> label will wrap each individual template</li>
    <li>Each template references between each other through the <code>include</code> keyword</li>
  </ul>
  <h4>The basic structure of a multi template</h4>
  <p>Like regular templates, multi-template has a main template and several child templates, each template is wraped with a <code>&lt;template&gt;</code> tag:</p>
  <pre><code class="language-markup">&lt;template name="main"&gt;
  // Master template code
&lt;/template&gt;
&lt;template name="subname-1"&gt;
  // Sub-template code 1
&lt;/template&gt;
&lt;template name="subname-2"&gt;
  // Sub-template code 2
&lt;/template&gt;</code></pre>
  <p>Each template has a <code>name</code> attribute, which is the main entrance to the entire template template, <code>name</code> is <code>main</code>, sub-template <code>name</code> can be named according to your needs.</p>
  <h4>main entrance</h4>
  <p>Master template <code>name</code> is <code>main</code>, we can write the normal template code in master template.</p>
  <p>To facilitate understanding, we assume this scenario:</p>
  <ul>
    <li>A card area, by default, displays the personal contact information, which we define as the "Browse" state</li>
    <li>When you click 'Edit' link, display relevant personal cards to modify form fields, which we define as "Modify" state</li>
    <li>"Modify" within the interface, you can modify the information, click on the Save button, automatically saved and go to "Browse" state</li>
  </ul>
  <p><a href="javascript:;" class="btn btn-try" id="btn-01">Have a try</a><a href="./demo/demo_9.html" class="btn" target="_blank">View demo</a></p>
  <p>Thus, in addition to the main entrance of the template, we need to design an additional "Browse" state template, and a "Modify" state template.</p>
  <pre><code class="language-markup">&lt;template name="main"&gt;
  &lt;style&gt;
  .title {
    font-size: 14px;
    font-weight: bold;
  }
  .content {
    padding: 10px;
  }
  &lt;/style&gt;
  &lt;div id="$ROOT"&gt;
    &lt;div class="title"&gt;Personal Business Card [&lt;a class="link-modify" href="javascript:;"&gt;modify&lt;/a&gt;]&lt;/div&gt;
    &lt;div class="content"&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;script&gt;
  var contentBox = $(ROOT).find('.content');
  var viewHtml = include('view');
  contentBox.html(viewHtml);
  $(ROOT).find('.title a.link-modify').on('click', function(){
    var editHtml = include('edit');
    contentBox.html(editHtml);
  });
  &lt;/script&gt;
&lt;/template&gt;</code></pre>
  <p>In <code>nodetpl</code> using keywords <code>include</code> redistributes a template.</p>
  <p>The above code indicates:</p>
  <ul>
    <li>When you load the master template (<code>main</code>), it will load the sub-template named "<code>view</code>" into the master template's "<code>contentBox</code>" container, as the "Browse" view</li>
    <li>When you click the "<code>edit</code>" link, it will load a child template named "edit" to the master template's "<code>contentBox</code>" container, as the "Modify" view.</li>
  </ul>
  <h4>Subtemplate</h4>
  <p>Similarly, we can write the normal template code in sub-template, but there will be slightly different:</p>
  <p><strong>Browse state</strong></p>
  <pre><code class="language-markup">&lt;template name="view"&gt;
  &lt;style&gt;
  ul li{
    border: 1px solid #ccc;
  }
  &lt;/style&gt;
  &lt;div id="$SUBROOT"&gt;
    &lt;ul&gt;
      &lt;li&gt;Name: &lt;?=name?&gt;&lt;/li&gt;
      &lt;li&gt;Gender: &lt;?=gender?&gt;&lt;/li&gt;
      &lt;li&gt;Age: &lt;?=age?&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
  <p><strong>Edit status</strong></p>
  <pre><code class="language-markup">&lt;template name="edit"&gt;
  &lt;style&gt;
  ul li{
    margin: 0 10px;
    background-color: #eee;
  }
  &lt;/style&gt;
  &lt;div id="$SUBROOT"&gt;
    &lt;form action=""&gt;
      &lt;ul&gt;
        &lt;li&gt;Name: &lt;input type="text" name="name" value="&lt;?=name?&gt;" /&gt;&lt;/li&gt;
        &lt;li&gt;Gender: &lt;input type="text" name="gender" value="&lt;?=gender?&gt;" /&gt;&lt;/li&gt;
        &lt;li&gt;Age: &lt;input type="text" name="age" value="&lt;?=age?&gt;" /&gt;&lt;/li&gt;
      &lt;/ul&gt;
      &lt;div class="form-actions"&gt;
        &lt;button type="submit"&gt;Save&lt;/button&gt;
      &lt;/div&gt;
    &lt;/form&gt;
  &lt;/div&gt;
  &lt;script&gt;
  $(SUBROOT).find('form').on('submit', function(){
    var name = $(this).find('input[name="name"]').val(),
      gender = $(this).find('input[name="gender"]').val(),
      age = $(this).find('input[name="age"]').val();
    $DATA.name = name;
    $DATA.gender = gender;
    $DATA.age = age;
    var viewHtml = include('view');
    $(ROOT).find('.content').html(viewHtml);
    return false;
  });
  &lt;/script&gt;
&lt;/template&gt;</code></pre>
  <p>From the code above, the master template has no different with normal, bug the sub-template "root element" is no longer used "<code>ROOT</code>", but "<code>SUBROOT</code>".</p>
</section>
<footer>
  <div class="wrap">
    <p>&copy; 2012 - 2016 nodetpl.com by pillys</p>
  </div>
</footer>
<script>require(['view/en/multi']);</script>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?55310397b78e4d3793e8b32711e7c487";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</body>
</html>